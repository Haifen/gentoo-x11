From 944e6d4c29aa75d22cbb59e72de7676ebc1266e5 Mon Sep 17 00:00:00 2001
From: Dave Airlie <airlied@linux.ie>
Date: Thu, 25 Sep 2008 15:40:19 +1000
Subject: [PATCH 32/41] exa: make sure pixmap devPrivate.ptr is NULL at create time
 (cherry picked from commit 5bf3f0fd4e00f96cfebd14b58580c3c8733626fb)

---
 exa/exa.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/exa/exa.c b/exa/exa.c
index c40bedf..8271f41 100644
--- a/exa/exa.c
+++ b/exa/exa.c
@@ -327,6 +327,9 @@ exaCreatePixmap(ScreenPtr pScreen, int w, int h, int depth,
         pExaPixmap->score = EXA_PIXMAP_SCORE_PINNED;
         pExaPixmap->fb_ptr = NULL;
         pExaPixmap->pDamage = NULL;
+        pExaPixmap->sys_ptr = pPixmap->devPrivate.ptr;
+        pPixmap->devPrivate.ptr = NULL;
+
     } else {
         pExaPixmap->driverPriv = NULL;
         /* Scratch pixmaps may have w/h equal to zero, and may not be
-- 
1.6.0.4

