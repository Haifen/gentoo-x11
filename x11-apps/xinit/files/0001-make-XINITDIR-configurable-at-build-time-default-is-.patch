From 09f97a12364d8381a630fcc2fdb564bc3a5d6f82 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?R=C3=A9mi=20Cardona?= <remi@gentoo.org>
Date: Sat, 3 Oct 2009 11:50:12 +0200
Subject: [PATCH 1/2] make XINITDIR configurable at build-time, default is unchanged
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: RÃ©mi Cardona <remi@gentoo.org>
---
 Makefile.am  |    2 --
 configure.ac |    7 +++++++
 2 files changed, 7 insertions(+), 2 deletions(-)

diff --git a/Makefile.am b/Makefile.am
index ae7ad77..35fb018 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -19,8 +19,6 @@
 #  TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 #  PERFORMANCE OF THIS SOFTWARE.
 
-XINITDIR = $(libdir)/X11/xinit
-
 bin_PROGRAMS = xinit
 bin_SCRIPTS = startx
 
diff --git a/configure.ac b/configure.ac
index 7f354f9..ff9ad28 100644
--- a/configure.ac
+++ b/configure.ac
@@ -57,6 +57,7 @@ DEFAULT_XTERM=xterm
 DEFAULT_XSERVER=${bindir}/X
 DEFAULT_XAUTH=xauth
 DEFAULT_XINIT=xinit
+DEFAULT_XINITDIR=${libdir}/X11/xinit
 
 AC_ARG_WITH(xrdb,
 	 AS_HELP_STRING([--with-xrdb=XRDB], [Path to xrdb]),
@@ -98,6 +99,11 @@ AC_ARG_WITH(xinit,
 	[XINIT="$withval"],
 	[XINIT="$DEFAULT_XINIT"])
 
+AC_ARG_WITH(xinitdir,
+	 AS_HELP_STRING([--with-xinitdir=XINITDIR], [Path to xinitdir]),
+	[XINITDIR="$withval"],
+	[XINITDIR="$DEFAULT_XINITDIR"])
+
 AC_ARG_WITH(launchd,            AS_HELP_STRING([--with-launchd], [Build with support for Apple's launchd (default: auto)]), [LAUNCHD=$withval], [LAUNCHD=auto])
 AC_ARG_WITH(launchagents-dir,   AS_HELP_STRING([--with-launchagents-dir=PATH], [Path to launchd's LaunchAgents directory (default: /Library/LaunchAgents)]),
                                 [ launchagentsdir="${withval}" ],
@@ -190,6 +196,7 @@ AC_SUBST(XTERM)
 AC_SUBST(XSERVER)
 AC_SUBST(XAUTH)
 AC_SUBST(XINIT)
+AC_SUBST(XINITDIR)
 
 # Defines which X servers are listed in help output in xinit.c
 # Cheat, lie, and assume all the world is Xorg for now
-- 
1.6.5.rc2

